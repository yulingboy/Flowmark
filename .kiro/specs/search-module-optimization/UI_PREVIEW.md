# 搜索引擎选择器 - UI 预览

## 默认状态

```
┌─────────────────────────────────────────────────────────────┐
│  [🔍] [▼]  搜索...                              [🔗] [🔍]   │
│   ↑   ↑                                                      │
│   │   └─ 下拉箭头                                            │
│   └───── 当前搜索引擎图标                                     │
└─────────────────────────────────────────────────────────────┘
```

## 展开状态

```
┌─────────────────────────────────────────────────────────────┐
│  [🔍] [▼]  搜索...                              [🔗] [🔍]   │
└─────────────────────────────────────────────────────────────┘
   │
   └─┬─────────────────┐
     │ [🅱️] Bing       │  ← Hover 效果：浅灰背景
     ├─────────────────┤
     │ [🔴] Google  ✓  │  ← 当前选中：蓝色背景 + 勾选
     ├─────────────────┤
     │ [🔵] Baidu      │
     └─────────────────┘
```

## 交互流程

### 1. 初始状态
- 显示当前搜索引擎的 favicon
- 下拉箭头指示可展开

### 2. 点击按钮
- 下拉菜单从按钮下方展开
- 显示所有可用搜索引擎
- 当前选中项高亮显示

### 3. Hover 选项
- 鼠标悬停时背景变为浅灰色
- 提供视觉反馈

### 4. 选择引擎
- 点击选项切换搜索引擎
- 菜单自动关闭
- 按钮图标更新为新选择的引擎

### 5. 点击外部
- 菜单自动关闭
- 保持当前选择

## 样式细节

### 选择器按钮
```css
- 尺寸: 自适应内容
- 内边距: 8px (左右), 4px (上下)
- 圆角: 4px
- Hover: 背景 #F3F4F6
- 过渡: 200ms ease
```

### 下拉菜单
```css
- 背景: 白色 (#FFFFFF)
- 圆角: 8px
- 阴影: 0 4px 6px rgba(0,0,0,0.1)
- 边框: 1px solid #E5E7EB
- 最小宽度: 120px
- 定位: absolute, top: 100%, left: 0
- z-index: 20
```

### 菜单选项
```css
- 内边距: 12px (左右), 8px (上下)
- 字体大小: 14px
- Hover: 背景 #F9FAFB
- 选中: 背景 #EFF6FF, 文字 #2563EB
- 过渡: 150ms ease
```

### 图标
```css
- Favicon: 16x16px (菜单中), 20x20px (按钮中)
- 下拉箭头: 12px, 颜色 #9CA3AF
- 勾选标记: 蓝色 (#2563EB)
```

## 响应式设计

### 桌面端 (>768px)
- 完整显示所有元素
- Hover 效果启用

### 移动端 (<768px)
- 触摸优化
- 增大点击区域
- 移除 Hover 效果

## 颜色方案

### 主色调
- 蓝色: #2563EB (选中状态)
- 浅蓝: #EFF6FF (选中背景)

### 中性色
- 灰色: #9CA3AF (图标)
- 浅灰: #F3F4F6 (Hover)
- 深灰: #374151 (文字)

### 边框
- 浅灰: #E5E7EB

## 动画效果

### 下拉菜单展开
```
- 初始: opacity: 0, transform: translateY(-8px)
- 结束: opacity: 1, transform: translateY(0)
- 时长: 200ms
- 缓动: ease-out
```

### 选项 Hover
```
- 背景色过渡: 150ms ease
```

### 图标切换
```
- 淡入淡出: 200ms ease
```

## 可访问性标注

```
┌─────────────────────────────────────────────────────────────┐
│  [🔍] [▼]  搜索...                              [🔗] [🔍]   │
│   ↑                                                          │
│   └─ aria-label="选择搜索引擎"                               │
│      aria-expanded="false"                                   │
└─────────────────────────────────────────────────────────────┘
   │
   └─┬─────────────────┐
     │ role="menu"     │
     ├─────────────────┤
     │ [🅱️] Bing       │ ← role="menuitem"
     │                 │   aria-label="切换到 Bing"
     ├─────────────────┤
     │ [🔴] Google  ✓  │ ← role="menuitem"
     │                 │   aria-label="切换到 Google"
     └─────────────────┘
```

## 实际效果预览

当用户使用搜索框时：

1. **默认显示**：搜索框左侧显示当前搜索引擎的小图标和下拉箭头
2. **点击图标**：展开下拉菜单，显示 Bing、Google、Baidu 三个选项
3. **选择引擎**：点击任意选项，图标立即更新，菜单关闭
4. **搜索行为**：后续搜索将使用新选择的搜索引擎
5. **持久化**：选择会保存到 localStorage，下次打开页面时保持

## 与现有功能的集成

- ✅ 不影响搜索历史功能
- ✅ 不影响 URL 检测功能
- ✅ 不影响键盘导航
- ✅ 与设置面板中的搜索引擎选择同步
- ✅ 支持所有现有的搜索引擎配置
